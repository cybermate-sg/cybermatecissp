{
  "id": "820944a9-c7bb-4907-9dbb-b2eba5c0d3cb",
  "prevId": "c0e5b5de-2495-4859-8c23-fe8deecb1d5f",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.admin_ai_daily_usage": {
      "name": "admin_ai_daily_usage",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "admin_id": {
          "name": "admin_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "usage_date": {
          "name": "usage_date",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "generations_used": {
          "name": "generations_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "quota_limit": {
          "name": "quota_limit",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 50
        },
        "last_reset_at": {
          "name": "last_reset_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_ai_usage_admin_date": {
          "name": "idx_ai_usage_admin_date",
          "columns": [
            {
              "expression": "admin_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "usage_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ai_usage_date": {
          "name": "idx_ai_usage_date",
          "columns": [
            {
              "expression": "usage_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "admin_ai_daily_usage_admin_id_users_clerk_user_id_fk": {
          "name": "admin_ai_daily_usage_admin_id_users_clerk_user_id_fk",
          "tableFrom": "admin_ai_daily_usage",
          "tableTo": "users",
          "columnsFrom": [
            "admin_id"
          ],
          "columnsTo": [
            "clerk_user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.admin_ai_quota_config": {
      "name": "admin_ai_quota_config",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "admin_id": {
          "name": "admin_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "daily_quota_limit": {
          "name": "daily_quota_limit",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 50
        },
        "flashcard_questions_default": {
          "name": "flashcard_questions_default",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 5
        },
        "deck_questions_default": {
          "name": "deck_questions_default",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 50
        },
        "quota_reset_hour": {
          "name": "quota_reset_hour",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "is_enabled": {
          "name": "is_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_ai_quota_admin": {
          "name": "idx_ai_quota_admin",
          "columns": [
            {
              "expression": "admin_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ai_quota_enabled": {
          "name": "idx_ai_quota_enabled",
          "columns": [
            {
              "expression": "is_enabled",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "admin_ai_quota_config_admin_id_users_clerk_user_id_fk": {
          "name": "admin_ai_quota_config_admin_id_users_clerk_user_id_fk",
          "tableFrom": "admin_ai_quota_config",
          "tableTo": "users",
          "columnsFrom": [
            "admin_id"
          ],
          "columnsTo": [
            "clerk_user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "admin_ai_quota_config_admin_id_unique": {
          "name": "admin_ai_quota_config_admin_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "admin_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ai_model_configurations": {
      "name": "ai_model_configurations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "model_id": {
          "name": "model_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "timeout_ms": {
          "name": "timeout_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "temperature": {
          "name": "temperature",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "max_tokens": {
          "name": "max_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "cost_per_1k_tokens": {
          "name": "cost_per_1k_tokens",
          "type": "numeric(10, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "is_free": {
          "name": "is_free",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_used_at": {
          "name": "last_used_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "success_count": {
          "name": "success_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "failure_count": {
          "name": "failure_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "avg_response_time_ms": {
          "name": "avg_response_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_ai_models_enabled_priority": {
          "name": "idx_ai_models_enabled_priority",
          "columns": [
            {
              "expression": "enabled",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "priority",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ai_models_provider": {
          "name": "idx_ai_models_provider",
          "columns": [
            {
              "expression": "provider",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ai_models_success": {
          "name": "idx_ai_models_success",
          "columns": [
            {
              "expression": "success_count",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ai_model_configurations_created_by_users_clerk_user_id_fk": {
          "name": "ai_model_configurations_created_by_users_clerk_user_id_fk",
          "tableFrom": "ai_model_configurations",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "clerk_user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "ai_model_configurations_model_id_unique": {
          "name": "ai_model_configurations_model_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "model_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ai_quiz_generation_log": {
      "name": "ai_quiz_generation_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "admin_id": {
          "name": "admin_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "flashcard_id": {
          "name": "flashcard_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deck_id": {
          "name": "deck_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "model_config_id": {
          "name": "model_config_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "topic": {
          "name": "topic",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "generation_type": {
          "name": "generation_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "num_questions_generated": {
          "name": "num_questions_generated",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "prompt_used": {
          "name": "prompt_used",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "api_response_status": {
          "name": "api_response_status",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_cost_usd": {
          "name": "total_cost_usd",
          "type": "numeric(10, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "tokens_used": {
          "name": "tokens_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "response_time_ms": {
          "name": "response_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_ai_log_admin_created": {
          "name": "idx_ai_log_admin_created",
          "columns": [
            {
              "expression": "admin_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ai_log_status": {
          "name": "idx_ai_log_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ai_log_flashcard": {
          "name": "idx_ai_log_flashcard",
          "columns": [
            {
              "expression": "flashcard_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ai_log_deck": {
          "name": "idx_ai_log_deck",
          "columns": [
            {
              "expression": "deck_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ai_log_model": {
          "name": "idx_ai_log_model",
          "columns": [
            {
              "expression": "model_config_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ai_quiz_generation_log_admin_id_users_clerk_user_id_fk": {
          "name": "ai_quiz_generation_log_admin_id_users_clerk_user_id_fk",
          "tableFrom": "ai_quiz_generation_log",
          "tableTo": "users",
          "columnsFrom": [
            "admin_id"
          ],
          "columnsTo": [
            "clerk_user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "ai_quiz_generation_log_flashcard_id_flashcards_id_fk": {
          "name": "ai_quiz_generation_log_flashcard_id_flashcards_id_fk",
          "tableFrom": "ai_quiz_generation_log",
          "tableTo": "flashcards",
          "columnsFrom": [
            "flashcard_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "ai_quiz_generation_log_deck_id_decks_id_fk": {
          "name": "ai_quiz_generation_log_deck_id_decks_id_fk",
          "tableFrom": "ai_quiz_generation_log",
          "tableTo": "decks",
          "columnsFrom": [
            "deck_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "ai_quiz_generation_log_model_config_id_ai_model_configurations_id_fk": {
          "name": "ai_quiz_generation_log_model_config_id_ai_model_configurations_id_fk",
          "tableFrom": "ai_quiz_generation_log",
          "tableTo": "ai_model_configurations",
          "columnsFrom": [
            "model_config_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.bookmarked_flashcards": {
      "name": "bookmarked_flashcards",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "clerk_user_id": {
          "name": "clerk_user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "flashcard_id": {
          "name": "flashcard_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_bookmarked_unique": {
          "name": "idx_bookmarked_unique",
          "columns": [
            {
              "expression": "clerk_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "flashcard_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_bookmarked_user": {
          "name": "idx_bookmarked_user",
          "columns": [
            {
              "expression": "clerk_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_bookmarked_flashcard": {
          "name": "idx_bookmarked_flashcard",
          "columns": [
            {
              "expression": "flashcard_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "bookmarked_flashcards_clerk_user_id_users_clerk_user_id_fk": {
          "name": "bookmarked_flashcards_clerk_user_id_users_clerk_user_id_fk",
          "tableFrom": "bookmarked_flashcards",
          "tableTo": "users",
          "columnsFrom": [
            "clerk_user_id"
          ],
          "columnsTo": [
            "clerk_user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "bookmarked_flashcards_flashcard_id_flashcards_id_fk": {
          "name": "bookmarked_flashcards_flashcard_id_flashcards_id_fk",
          "tableFrom": "bookmarked_flashcards",
          "tableTo": "flashcards",
          "columnsFrom": [
            "flashcard_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.class_progress": {
      "name": "class_progress",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "clerk_user_id": {
          "name": "clerk_user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "class_id": {
          "name": "class_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "total_decks": {
          "name": "total_decks",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "decks_started": {
          "name": "decks_started",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "decks_completed": {
          "name": "decks_completed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "overall_mastery_percentage": {
          "name": "overall_mastery_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "last_studied": {
          "name": "last_studied",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "class_progress_clerk_user_id_users_clerk_user_id_fk": {
          "name": "class_progress_clerk_user_id_users_clerk_user_id_fk",
          "tableFrom": "class_progress",
          "tableTo": "users",
          "columnsFrom": [
            "clerk_user_id"
          ],
          "columnsTo": [
            "clerk_user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "class_progress_class_id_classes_id_fk": {
          "name": "class_progress_class_id_classes_id_fk",
          "tableFrom": "class_progress",
          "tableTo": "classes",
          "columnsFrom": [
            "class_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.classes": {
      "name": "classes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "order": {
          "name": "order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "icon": {
          "name": "icon",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "color": {
          "name": "color",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "is_published": {
          "name": "is_published",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "classes_created_by_users_clerk_user_id_fk": {
          "name": "classes_created_by_users_clerk_user_id_fk",
          "tableFrom": "classes",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "clerk_user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.deck_progress": {
      "name": "deck_progress",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "clerk_user_id": {
          "name": "clerk_user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "deck_id": {
          "name": "deck_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "mastery_percentage": {
          "name": "mastery_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "cards_new": {
          "name": "cards_new",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "cards_learning": {
          "name": "cards_learning",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "cards_mastered": {
          "name": "cards_mastered",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_studied": {
          "name": "last_studied",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "deck_progress_clerk_user_id_users_clerk_user_id_fk": {
          "name": "deck_progress_clerk_user_id_users_clerk_user_id_fk",
          "tableFrom": "deck_progress",
          "tableTo": "users",
          "columnsFrom": [
            "clerk_user_id"
          ],
          "columnsTo": [
            "clerk_user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "deck_progress_deck_id_decks_id_fk": {
          "name": "deck_progress_deck_id_decks_id_fk",
          "tableFrom": "deck_progress",
          "tableTo": "decks",
          "columnsFrom": [
            "deck_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.deck_quiz_questions": {
      "name": "deck_quiz_questions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "deck_id": {
          "name": "deck_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "question_text": {
          "name": "question_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "options": {
          "name": "options",
          "type": "json",
          "primaryKey": false,
          "notNull": true
        },
        "explanation": {
          "name": "explanation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "elimination_tactics": {
          "name": "elimination_tactics",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "correct_answer_with_justification": {
          "name": "correct_answer_with_justification",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "compare_remaining_options_with_justification": {
          "name": "compare_remaining_options_with_justification",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "correct_options_justification": {
          "name": "correct_options_justification",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "order": {
          "name": "order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "difficulty": {
          "name": "difficulty",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_deck_quiz_questions_deck": {
          "name": "idx_deck_quiz_questions_deck",
          "columns": [
            {
              "expression": "deck_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_deck_quiz_questions_deck_order": {
          "name": "idx_deck_quiz_questions_deck_order",
          "columns": [
            {
              "expression": "deck_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "order",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "deck_quiz_questions_deck_id_decks_id_fk": {
          "name": "deck_quiz_questions_deck_id_decks_id_fk",
          "tableFrom": "deck_quiz_questions",
          "tableTo": "decks",
          "columnsFrom": [
            "deck_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "deck_quiz_questions_created_by_users_clerk_user_id_fk": {
          "name": "deck_quiz_questions_created_by_users_clerk_user_id_fk",
          "tableFrom": "deck_quiz_questions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "clerk_user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.decks": {
      "name": "decks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "class_id": {
          "name": "class_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'flashcard'"
        },
        "card_count": {
          "name": "card_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "order": {
          "name": "order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "is_premium": {
          "name": "is_premium",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_published": {
          "name": "is_published",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_decks_class_published": {
          "name": "idx_decks_class_published",
          "columns": [
            {
              "expression": "class_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_published",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_decks_class_order": {
          "name": "idx_decks_class_order",
          "columns": [
            {
              "expression": "class_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "order",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "decks_class_id_classes_id_fk": {
          "name": "decks_class_id_classes_id_fk",
          "tableFrom": "decks",
          "tableTo": "classes",
          "columnsFrom": [
            "class_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "decks_created_by_users_clerk_user_id_fk": {
          "name": "decks_created_by_users_clerk_user_id_fk",
          "tableFrom": "decks",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "clerk_user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.flashcard_media": {
      "name": "flashcard_media",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "flashcard_id": {
          "name": "flashcard_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "file_url": {
          "name": "file_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "file_key": {
          "name": "file_key",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "file_name": {
          "name": "file_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "mime_type": {
          "name": "mime_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "placement": {
          "name": "placement",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "order": {
          "name": "order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "alt_text": {
          "name": "alt_text",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "flashcard_media_flashcard_id_flashcards_id_fk": {
          "name": "flashcard_media_flashcard_id_flashcards_id_fk",
          "tableFrom": "flashcard_media",
          "tableTo": "flashcards",
          "columnsFrom": [
            "flashcard_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.flashcards": {
      "name": "flashcards",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "deck_id": {
          "name": "deck_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "question": {
          "name": "question",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "answer": {
          "name": "answer",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "explanation": {
          "name": "explanation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "difficulty": {
          "name": "difficulty",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "order": {
          "name": "order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "is_published": {
          "name": "is_published",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_flashcards_deck_published": {
          "name": "idx_flashcards_deck_published",
          "columns": [
            {
              "expression": "deck_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_published",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_flashcards_deck_order": {
          "name": "idx_flashcards_deck_order",
          "columns": [
            {
              "expression": "deck_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "order",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "flashcards_deck_id_decks_id_fk": {
          "name": "flashcards_deck_id_decks_id_fk",
          "tableFrom": "flashcards",
          "tableTo": "decks",
          "columnsFrom": [
            "deck_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "flashcards_created_by_users_clerk_user_id_fk": {
          "name": "flashcards_created_by_users_clerk_user_id_fk",
          "tableFrom": "flashcards",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "clerk_user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.payments": {
      "name": "payments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "clerk_user_id": {
          "name": "clerk_user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_payment_intent_id": {
          "name": "stripe_payment_intent_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'usd'"
        },
        "status": {
          "name": "status",
          "type": "payment_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "payment_method": {
          "name": "payment_method",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "payments_clerk_user_id_users_clerk_user_id_fk": {
          "name": "payments_clerk_user_id_users_clerk_user_id_fk",
          "tableFrom": "payments",
          "tableTo": "users",
          "columnsFrom": [
            "clerk_user_id"
          ],
          "columnsTo": [
            "clerk_user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.quiz_questions": {
      "name": "quiz_questions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "flashcard_id": {
          "name": "flashcard_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "question_text": {
          "name": "question_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "options": {
          "name": "options",
          "type": "json",
          "primaryKey": false,
          "notNull": true
        },
        "explanation": {
          "name": "explanation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "elimination_tactics": {
          "name": "elimination_tactics",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "correct_answer_with_justification": {
          "name": "correct_answer_with_justification",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "compare_remaining_options_with_justification": {
          "name": "compare_remaining_options_with_justification",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "correct_options_justification": {
          "name": "correct_options_justification",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "order": {
          "name": "order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_quiz_questions_flashcard": {
          "name": "idx_quiz_questions_flashcard",
          "columns": [
            {
              "expression": "flashcard_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_quiz_questions_flashcard_order": {
          "name": "idx_quiz_questions_flashcard_order",
          "columns": [
            {
              "expression": "flashcard_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "order",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "quiz_questions_flashcard_id_flashcards_id_fk": {
          "name": "quiz_questions_flashcard_id_flashcards_id_fk",
          "tableFrom": "quiz_questions",
          "tableTo": "flashcards",
          "columnsFrom": [
            "flashcard_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "quiz_questions_created_by_users_clerk_user_id_fk": {
          "name": "quiz_questions_created_by_users_clerk_user_id_fk",
          "tableFrom": "quiz_questions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "clerk_user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.session_cards": {
      "name": "session_cards",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "flashcard_id": {
          "name": "flashcard_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "confidence_rating": {
          "name": "confidence_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "response_time": {
          "name": "response_time",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "session_cards_session_id_study_sessions_id_fk": {
          "name": "session_cards_session_id_study_sessions_id_fk",
          "tableFrom": "session_cards",
          "tableTo": "study_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "session_cards_flashcard_id_flashcards_id_fk": {
          "name": "session_cards_flashcard_id_flashcards_id_fk",
          "tableFrom": "session_cards",
          "tableTo": "flashcards",
          "columnsFrom": [
            "flashcard_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.study_sessions": {
      "name": "study_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "clerk_user_id": {
          "name": "clerk_user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "deck_id": {
          "name": "deck_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "ended_at": {
          "name": "ended_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "cards_studied": {
          "name": "cards_studied",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "average_confidence": {
          "name": "average_confidence",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "study_duration": {
          "name": "study_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_study_sessions_user_deck": {
          "name": "idx_study_sessions_user_deck",
          "columns": [
            {
              "expression": "clerk_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "deck_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_study_sessions_user_started": {
          "name": "idx_study_sessions_user_started",
          "columns": [
            {
              "expression": "clerk_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "started_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "study_sessions_clerk_user_id_users_clerk_user_id_fk": {
          "name": "study_sessions_clerk_user_id_users_clerk_user_id_fk",
          "tableFrom": "study_sessions",
          "tableTo": "users",
          "columnsFrom": [
            "clerk_user_id"
          ],
          "columnsTo": [
            "clerk_user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "study_sessions_deck_id_decks_id_fk": {
          "name": "study_sessions_deck_id_decks_id_fk",
          "tableFrom": "study_sessions",
          "tableTo": "decks",
          "columnsFrom": [
            "deck_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.subscriptions": {
      "name": "subscriptions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "clerk_user_id": {
          "name": "clerk_user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_customer_id": {
          "name": "stripe_customer_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_subscription_id": {
          "name": "stripe_subscription_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "plan_type": {
          "name": "plan_type",
          "type": "plan_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'free'"
        },
        "status": {
          "name": "status",
          "type": "subscription_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'inactive'"
        },
        "current_period_start": {
          "name": "current_period_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "current_period_end": {
          "name": "current_period_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "cancel_at_period_end": {
          "name": "cancel_at_period_end",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "subscriptions_clerk_user_id_users_clerk_user_id_fk": {
          "name": "subscriptions_clerk_user_id_users_clerk_user_id_fk",
          "tableFrom": "subscriptions",
          "tableTo": "users",
          "columnsFrom": [
            "clerk_user_id"
          ],
          "columnsTo": [
            "clerk_user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_card_progress": {
      "name": "user_card_progress",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "clerk_user_id": {
          "name": "clerk_user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "flashcard_id": {
          "name": "flashcard_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "confidence_level": {
          "name": "confidence_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "times_seen": {
          "name": "times_seen",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_seen": {
          "name": "last_seen",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "next_review_date": {
          "name": "next_review_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "mastery_status": {
          "name": "mastery_status",
          "type": "mastery_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'new'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_user_card_progress_user_flashcard": {
          "name": "idx_user_card_progress_user_flashcard",
          "columns": [
            {
              "expression": "clerk_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "flashcard_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_card_progress_mastery": {
          "name": "idx_user_card_progress_mastery",
          "columns": [
            {
              "expression": "clerk_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "mastery_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_card_progress_clerk_user_id_users_clerk_user_id_fk": {
          "name": "user_card_progress_clerk_user_id_users_clerk_user_id_fk",
          "tableFrom": "user_card_progress",
          "tableTo": "users",
          "columnsFrom": [
            "clerk_user_id"
          ],
          "columnsTo": [
            "clerk_user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_card_progress_flashcard_id_flashcards_id_fk": {
          "name": "user_card_progress_flashcard_id_flashcards_id_fk",
          "tableFrom": "user_card_progress",
          "tableTo": "flashcards",
          "columnsFrom": [
            "flashcard_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_feedback": {
      "name": "user_feedback",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "clerk_user_id": {
          "name": "clerk_user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "flashcard_id": {
          "name": "flashcard_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "quiz_question_id": {
          "name": "quiz_question_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deck_quiz_question_id": {
          "name": "deck_quiz_question_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deck_id": {
          "name": "deck_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "class_id": {
          "name": "class_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "feedback_type": {
          "name": "feedback_type",
          "type": "feedback_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "feedback_text": {
          "name": "feedback_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "screenshot_url": {
          "name": "screenshot_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "screenshot_key": {
          "name": "screenshot_key",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "page_url": {
          "name": "page_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "feedback_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "priority": {
          "name": "priority",
          "type": "feedback_priority",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'medium'"
        },
        "admin_response": {
          "name": "admin_response",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_by": {
          "name": "resolved_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_feedback_user": {
          "name": "idx_feedback_user",
          "columns": [
            {
              "expression": "clerk_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_feedback_status": {
          "name": "idx_feedback_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_feedback_priority": {
          "name": "idx_feedback_priority",
          "columns": [
            {
              "expression": "priority",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_feedback_type": {
          "name": "idx_feedback_type",
          "columns": [
            {
              "expression": "feedback_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_feedback_flashcard": {
          "name": "idx_feedback_flashcard",
          "columns": [
            {
              "expression": "flashcard_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_feedback_quiz_question": {
          "name": "idx_feedback_quiz_question",
          "columns": [
            {
              "expression": "quiz_question_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_feedback_deck_quiz_question": {
          "name": "idx_feedback_deck_quiz_question",
          "columns": [
            {
              "expression": "deck_quiz_question_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_feedback_status_created": {
          "name": "idx_feedback_status_created",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_feedback_deck": {
          "name": "idx_feedback_deck",
          "columns": [
            {
              "expression": "deck_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_feedback_class": {
          "name": "idx_feedback_class",
          "columns": [
            {
              "expression": "class_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_feedback_clerk_user_id_users_clerk_user_id_fk": {
          "name": "user_feedback_clerk_user_id_users_clerk_user_id_fk",
          "tableFrom": "user_feedback",
          "tableTo": "users",
          "columnsFrom": [
            "clerk_user_id"
          ],
          "columnsTo": [
            "clerk_user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_feedback_flashcard_id_flashcards_id_fk": {
          "name": "user_feedback_flashcard_id_flashcards_id_fk",
          "tableFrom": "user_feedback",
          "tableTo": "flashcards",
          "columnsFrom": [
            "flashcard_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "user_feedback_quiz_question_id_quiz_questions_id_fk": {
          "name": "user_feedback_quiz_question_id_quiz_questions_id_fk",
          "tableFrom": "user_feedback",
          "tableTo": "quiz_questions",
          "columnsFrom": [
            "quiz_question_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "user_feedback_deck_quiz_question_id_deck_quiz_questions_id_fk": {
          "name": "user_feedback_deck_quiz_question_id_deck_quiz_questions_id_fk",
          "tableFrom": "user_feedback",
          "tableTo": "deck_quiz_questions",
          "columnsFrom": [
            "deck_quiz_question_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "user_feedback_deck_id_decks_id_fk": {
          "name": "user_feedback_deck_id_decks_id_fk",
          "tableFrom": "user_feedback",
          "tableTo": "decks",
          "columnsFrom": [
            "deck_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "user_feedback_class_id_classes_id_fk": {
          "name": "user_feedback_class_id_classes_id_fk",
          "tableFrom": "user_feedback",
          "tableTo": "classes",
          "columnsFrom": [
            "class_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "user_feedback_resolved_by_users_clerk_user_id_fk": {
          "name": "user_feedback_resolved_by_users_clerk_user_id_fk",
          "tableFrom": "user_feedback",
          "tableTo": "users",
          "columnsFrom": [
            "resolved_by"
          ],
          "columnsTo": [
            "clerk_user_id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_stats": {
      "name": "user_stats",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "clerk_user_id": {
          "name": "clerk_user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "total_cards_studied": {
          "name": "total_cards_studied",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "study_streak_days": {
          "name": "study_streak_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_study_time": {
          "name": "total_study_time",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "daily_cards_studied_today": {
          "name": "daily_cards_studied_today",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_active_date": {
          "name": "last_active_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_reset_date": {
          "name": "last_reset_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_stats_clerk_user_id_users_clerk_user_id_fk": {
          "name": "user_stats_clerk_user_id_users_clerk_user_id_fk",
          "tableFrom": "user_stats",
          "tableTo": "users",
          "columnsFrom": [
            "clerk_user_id"
          ],
          "columnsTo": [
            "clerk_user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_stats_clerk_user_id_unique": {
          "name": "user_stats_clerk_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "clerk_user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "clerk_user_id": {
          "name": "clerk_user_id",
          "type": "varchar(255)",
          "primaryKey": true,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "linkedin_id": {
          "name": "linkedin_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "user_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'user'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.feedback_priority": {
      "name": "feedback_priority",
      "schema": "public",
      "values": [
        "low",
        "medium",
        "high",
        "critical"
      ]
    },
    "public.feedback_status": {
      "name": "feedback_status",
      "schema": "public",
      "values": [
        "pending",
        "in_review",
        "resolved",
        "closed",
        "rejected"
      ]
    },
    "public.feedback_type": {
      "name": "feedback_type",
      "schema": "public",
      "values": [
        "content_error",
        "typo",
        "unclear_explanation",
        "technical_issue",
        "general_suggestion"
      ]
    },
    "public.mastery_status": {
      "name": "mastery_status",
      "schema": "public",
      "values": [
        "new",
        "learning",
        "mastered"
      ]
    },
    "public.payment_status": {
      "name": "payment_status",
      "schema": "public",
      "values": [
        "succeeded",
        "failed",
        "pending"
      ]
    },
    "public.plan_type": {
      "name": "plan_type",
      "schema": "public",
      "values": [
        "free",
        "pro_monthly",
        "pro_yearly",
        "lifetime"
      ]
    },
    "public.subscription_status": {
      "name": "subscription_status",
      "schema": "public",
      "values": [
        "active",
        "canceled",
        "past_due",
        "trialing",
        "inactive"
      ]
    },
    "public.user_role": {
      "name": "user_role",
      "schema": "public",
      "values": [
        "user",
        "admin"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}